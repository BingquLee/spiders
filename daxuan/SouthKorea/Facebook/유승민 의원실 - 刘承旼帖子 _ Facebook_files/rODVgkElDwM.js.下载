if (self.CavalryLogger) { CavalryLogger.start_js(["vvAcC"]); }

__d("VideoComposerUploaderPill.react",["ix","cx","fbt","FlexLayout.react","Image.react","InlineBlock.react","LayerHideOnBlur","LayerHideOnEscape","PublishingToolsWebdriverTestDataIDs","React","ShimButton.react","VideoComposerUploadPopover.react","XUIContextualDialog.react","asset","fbglyph","formatNumber"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=260;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.state={showPopover:!1},this.$1=function(){this.setState({showPopover:!this.state.showPopover})}.bind(this),b}a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.props.errorData===null&&a.errorData?this.setState({showPopover:!0}):this.props.errorData!==null&&a.errorData===null&&this.setState({showPopover:!1})};a.prototype.renderLayers=function(a){return!this.state.showPopover?null:b("React").createElement(b("XUIContextualDialog.react"),{behaviors:{LayerHideOnEscape:b("LayerHideOnEscape"),LayerHideOnBlur:b("LayerHideOnBlur")},contextRef:function(){return this.refs.uploaderPill}.bind(this),shown:this.state.showPopover,alignment:"right",position:"below",onToggle:this.$1,label:i._("\u5143\u6570\u636e"),width:k},b("React").createElement(b("VideoComposerUploadPopover.react"),{errorData:this.props.errorData,fileName:this.props.fileName,onCloseButtonClick:this.$1,onReplaceFile:this.$1,showReplaceFileOption:this.props.showReplaceFileOption,uploadPercent:a,videoDuration:this.props.videoDuration,videoWidth:this.props.videoWidth,videoHeight:this.props.videoHeight,videoSize:this.props.videoSize}))};a.prototype.render=function(){var a=this.props.errorData!==null,c=this.props.uploadFinished,d=this.props.uploadPercent>=100&&!c?99.9:c?100:this.props.uploadPercent,e=d===100?0:1,f=a?b("React").createElement(b("Image.react"),{src:g("118806")}):c?b("React").createElement(b("Image.react"),{src:g("407719")}):b("React").createElement(b("Image.react"),{src:g("360748")}),h=a?b("React").createElement(b("Image.react"),{src:g("412694")}):c?b("React").createElement(b("Image.react"),{src:g("364972")}):b("React").createElement(b("Image.react"),{src:g("379681")});return b("React").createElement(b("ShimButton.react"),{ref:"uploaderPill",onClick:this.$1,className:"_4unx","data-testid":c?b("PublishingToolsWebdriverTestDataIDs").VIDEO_UPLOAD_COMPLETE_BAR:null},b("React").createElement("div",{style:{width:d+"%"},className:"_4un-"+(c?" _4jg0":"")+(a?" _6538":"")}),b("React").createElement("div",{className:"_4un_"+(a?" _6539":"")}),b("React").createElement(b("FlexLayout.react"),{justify:"all",align:"center",className:"_4uny"+(c?" _4jf_":"")+(a?" _1jua":"")},b("React").createElement(b("FlexLayout.react"),{align:"center"},f,b("React").createElement(b("InlineBlock.react"),{className:"_4unz"},i._("{percentage}",[i._param("percentage",b("formatNumber")(d,e)+"%")]))),h),this.renderLayers(d))};e.exports=a}),null);