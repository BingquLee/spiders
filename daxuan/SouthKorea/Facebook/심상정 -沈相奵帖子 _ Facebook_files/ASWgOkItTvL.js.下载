if (self.CavalryLogger) { CavalryLogger.start_js(["zmkD6"]); }

__d("VideoComposerCaptionLandingAddSubtitleButtons.react",["ix","cx","fbt","FileInput.react","Image.react","React","SUIGlyphIcon.react","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorUtils","VideoComposerDialogCaptionsTabActions","VideoComposerDialogVersion","VideoUploadAutoCaptionsSection.react","XUIButton.react","asset","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.$2=function(event){var a=event.target;a.value&&(this.props.onUpload(a),this.refs.captionFileInput.getFileInput().clear())}.bind(this),b}a.prototype.render=function(){var a=this.$1(),c=this.props.videoID,d=!1,e=this.props.localCaptionFiles.toArray(),f=e.some(function(a){return a.is_auto_generated});f||(d=e.some(function(a){return a.getLocale()==="en_US"}));return b("React").createElement("div",{style:{display:"flex"}},a,b("React").createElement("span",{className:"_4qg7",style:{display:"flex"}},b("React").createElement(b("FileInput.react"),{accept:".srt",ref:"captionFileInput",multiple:!0,disabled:this.props.disableButtons,onChange:this.$2,onClick:this.props.onUploadClick},b("React").createElement(b("XUIButton.react"),{size:"xlarge",href:"#",disabled:this.props.disableButtons,image:b("React").createElement(b("Image.react"),{src:g("490358")}),label:i._("\u4e0a\u4f20")})),this.props.shouldShowCaptionEditorV1&&c?b("React").createElement(b("VideoUploadAutoCaptionsSection.react"),{accessToken:this.props.accessToken,addedCaptions:this.props.localCaptionFiles.toArray(),autoCaptions:this.props.autoGenV1Subtitle?[this.props.autoGenV1Subtitle]:[],className:"_3-9b",composerDialogVersion:b("VideoComposerDialogVersion").V2,disabled:d,hasAutoCaption:f,uploadErrorMessage:null,videoID:c,onAutoCaptionFetched:this.$3,onSaveCaptions:this.$4}):null))};a.prototype.$3=function(a){b("VideoComposerDialogCaptionsTabActions").fetchedAutoGenV1Subtitle(a)};a.prototype.$4=function(a){a=a||[],b("VideoComposerDialogCaptionsTabActions").updateAllLocalCaptions(a)};a.prototype.$5=function(){return b("VideoComposerDialogCaptionEditorUtils").isAutoGenerateable(this.props.spokenLocale)};a.prototype.$1=function(){var a=this.props.enableFeatures&&!this.props.hasAutoGenerated?b("React").createElement("span",{className:"_3-90"},b("React").createElement(b("XUIButton.react"),{size:"xlarge",href:"#",disabled:this.props.disableButtons||!this.$5()||this.props.isAutoGenerating,image:b("React").createElement(b("Image.react"),{src:g("490341")}),label:i._("\u81ea\u52a8\u751f\u6210"),onClick:this.props.onGenerate}),this.$6()):null;a=this.props.enableFeatures?b("React").createElement("span",{className:"_2q5p"},a,b("React").createElement("span",{className:"_4qg7"},b("React").createElement(b("XUIButton.react"),{size:"xlarge",href:"#",disabled:this.props.disableButtons,image:b("React").createElement(b("Image.react"),{src:g("490351")}),label:i._("\u8f93\u5165"),onClick:this.props.onCreate}))):null;return a};a.prototype.$6=function(){if(this.props.spokenLanguage==b("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED)return null;return this.$5()?null:b("React").createElement("div",null,b("React").createElement("div",{className:"_4omu"},b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("132174")})),b("React").createElement("div",{className:"_4om_"},i._("\u65e0\u6cd5\u81ea\u52a8\u751f\u6210\u8fd9\u4e2a\u8bed\u8a00\u7684\u5b57\u5e55")))};e.exports=a}),null);